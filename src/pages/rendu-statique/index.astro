---
import Layout from "../../layouts/Layout.astro";
import penguins from "../../assets/penguins.json";

const species = [...new Set(penguins.map((penguin) => penguin.species))];
---

<Layout>
    <nav class="bg-pink-800 shadow-lg sticky top-0 z-10">
        <div class="max-w-6xl mx-auto px-6">
            <div class="flex items-center justify-between h-16">
                <h1 class="text-xl font-semibold text-white">Penguins</h1>
                <div class="flex space-x-4">
                    <a
                        href="/"
                        class="bg-white/20 text-white px-4 py-2 rounded-lg hover:bg-white/30"
                    >
                        Graphique
                    </a>
                    <a
                        href="/rendu-dynamique"
                        class="bg-blue-700 text-white px-4 py-2 rounded-lg hover:bg-blue-800"
                    >
                        Rendu dynamique
                    </a>
                    <a
                        href="/rendu-statique"
                        class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700"
                    >
                        Rendu statique
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <div class="m-5">
        <h1 class="text-3xl my-5">Rendu statique - Index des espèces</h1>
        <a class="text-green-700 my-5" href="/">Retour aux étapes</a>

        <div class="mt-8">
            <h2 class="text-xl mb-4">
                Espèces disponibles :
            </h2>
            <div class="grid gap-4 md:grid-cols-2 lg:grid-cols-3">
                {
                    species.map((specie) => (
                        <a
                            href={`/rendu-statique/${encodeURIComponent(specie.toLowerCase())}`}
                            class="block p-4 border border-gray-300 rounded-lg hover:bg-green-50 hover:border-green-500 transition-colors"
                        >
                            <h3 class="text-lg font-semibold text-green-900">
                                {specie}
                            </h3>
                            <p class="text-gray-600 text-sm mt-1">
                                {
                                    penguins.filter((p) => p.species === specie)
                                        .length
                                }{" "}
                                pingouins
                            </p>
                        </a>
                    ))
                }
            </div>
        </div>
    </div>
</Layout>
